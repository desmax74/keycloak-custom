<!DOCTYPE html>
<head>
 <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title></title>


<link href="../css/bootstrap.css" rel="stylesheet">
<link href="../css/api.css" rel="stylesheet">

</head>

<body>  
  <div id='dsgapi-header'>
    <p>Dell Software API Documentation</p>
  </div>

  <div id="dsgapi-container">

    <p>Note: Replace the domain name in the following examples with the location of the test system you are using.</p>

    <h3>Unsecure Restful Service</h3>
    <p>To invoke an unsecure Restful service, you can use the curl command as follows:

    <pre>
      curl -i -H "Accept: application/json" -H "Content-Type: application/json" 
      -X GET http://ec2-54-165-240-107.compute-1.amazonaws.com:8080/dsgapi/cloudproviders/
    </pre>

    <h3>Secure Restful Service</h3>
    <p>To invoke a secure Restful service, you must first obtain an access token. The access token contains role mapping from the union of 
        the user's role (i.e. the user’s permission) and the OAuth client’s scope. The name of our OAuth client is <i>admin-client</i>.

    </p>


    <h3>Access Token</h3>
    <p>You can use a curl command to get your access token using your <i>username</i> and <i>password</i>.
    </p>

    <pre>
    curl -i -H "Content-Type: application/x-www-form-urlencoded" -X 
    POST http://ec2-54-165-240-107.compute-1.amazonaws.com:8080/auth/realms/DSG_API/tokens/grants/access 
    -d username=USERNAME -d password=PASSWORD -d client_id=admin-client
	  </pre>
    
    <p>Once you obtained your access token, you can call the secure Restful service as follows:
    <pre>
    curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: Bearer {access token}" 
    -X GET http://ec2-54-165-240-107.compute-1.amazonaws.com:8080/dsgapi/blueprints/
    </pre>


    <h3>Java client Example</h3>

    <p>This <a href="dsgapi-client-sample.zip">Java project</a> provides a Java example using
      <a href="http://hc.apache.org/">Apache HTTP client</a>.
    </p>
    
  </div>

</body>
</html>
